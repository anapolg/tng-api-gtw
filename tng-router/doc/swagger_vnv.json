{
   "swagger": "2.0",
   "info": {
      "description": "5GTANGO, an H2020 5GPPP project",
      "version": "5.0",
      "title": "5GTANGO SP Gatekeeper component REST API",
      "termsOfService": "https://5gtango.eu/",
      "license": {
         "name": "Apache License 2.0",
         "url": "https://github.com/sonata-nfv/tng-api-gtw/blob/master/LICENSE"
      }
   },
   "host": "localhost",
   "basePath": "/api/v3",
   "tags": [
      { "name": "root access", "description": "VnV API root access"},
      { "name": "functions", "description": "VnV API to list Virtual Network Functions (VNFs) available in the Catalogue" },
      { "name": "monitoring", "description": "VnV API to manage monitoring data and graphs" },
      { "name": "packages", "description": "VnV API to manage packages (uploading, downloading, etc.)" },
      { "name": "pings", "description": "VnV API to implement readiness and liveness" },
      { "name": "recommendations", "description": "VnV API to manage recommendations" },
      { "name": "services", "description": "VnV API to list Network Services (NSs) available in the Catalogue" },
      { "name": "settings", "description": "VnV API to manage different kinds of settings" },
      { "name": "tests", "description": "VnV API to list test descriptors and results, and manage test plans" },
      { "name": "users", "description": "VnV API to manage users" }
   ],
   "paths": {
      "/": {
         "get": {
            "tags": [ "root access" ],
            "summary": "Returns something usefull on access to root",
            "operationId": "returnRootAccess",
            "consumes": [ "*/*" ],
            "produces": [ "text/html; charset=utf-8" ],
            "parameters": [],
            "responses": { "200": { "description": "OK" } }
         }
      },
      "/functions": {
         "get": {
            "tags": ["functions"],
            "summary": "Returns a list of functions existing in the Catalogue",
            "operationId": "returnFunctions",
            "consumes": ["*/*"],
            "produces": ["application/json; charset=utf-8"],
            "parameters": [
                {
                  "name": "page_size",
                  "in": "query",
                  "description": "The number of records to be included in a page",
                  "required": false,
                  "type": "integer",
                  "format": "int32",
                  "minimum": 0,
                  "default": 100
                },
                {
                  "name": "page_number",
                  "in": "query",
                  "description": "The number of the page of records to be shown (starting at 0)",
                  "required": false,
                  "type": "integer",
                  "format": "int32",
                  "minimum": 0,
                  "default": 0
                }
            ],
            "responses": {
                "200": { 
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/FunctionsGetMetadataReturn"
                    }
                  }
                },
                "400": {"description": "Bad Request"}
            }
         },
         "options": {
           "tags": ["functions"],
           "summary": "Options for functions",
           "operationId": "functionOptions",
           "consumes": ["*/*"],
           "produces": ["application/json"],
           "parameters": [],
           "responses": {
               "200": { "description": "OK"},
               "400": {"description": "Bad Request"}
           }
         }
      },
      "/functions/{function_uuid}": {
        "get": {
          "tags": ["functions"],
          "summary": "Query a specific function meta-data",
          "parameters": [
            {
              "name": "function_uuid",
              "in": "path",
              "description": "UUID of the function which meta-data is required",
              "required": true,
              "type": "string",
              "format": "uuid"
            }
          ],
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "responses": {
            "200": { "description": "OK", "schema":{ "$ref":"#/definitions/FunctionsGetMetadataReturn"}},
            "400": { "description": "Bad request"},
            "404": { "description": "Not found"}
          }
        }
      },
      "/monitoring/data":{},
      "/monitoring/graphs":{},
      "/packages": {
        "post": {
            "summary": "Uploads a package",
            "tags": ["packages"],
            "consumes": ["multipart/form-data"],
            "produces": ["application/json"],
            "parameters": [
              {
                "name": "package",
                "in": "formData",
                "required": true,
                "type": "string",
                "description": "Uploaded package file",
                "x-example": ""
              },
              {
                "name": "callback_url",
                "in": "formData",
                "required": false,
                "type": "string",
                "description": "URL called after unpackaging (optional)",
                "x-example": ""
              },
              {
                "name": "layer",
                "in": "formData",
                "required": false,
                "type": "integer",
                "format": "int32",
                "minimum": 0,
                "default": 0
              },
              {
                "name": "skip_store",
                "in": "formData",
                "required": false,
                "type": "string",
                "description": "Skip catalog upload of contents (optional)",
                "x-example": ""
              }
            ],
            "responses": {
                "200": { 
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/PackagesGetMetadataReturn"
                    }
                  }
                },
                "400": {"description": "Bad Request"}
            }
        },
        "get": {
          "tags": ["packages"],
          "summary": "Query packages",
          "operationId": "packageQuerying",
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "parameters": [
            {
              "name": "page_size",
              "in": "query",
              "description": "The number of records to be included in a page",
              "required": false,
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            {
              "name": "page_number",
              "in": "query",
              "description": "The number of the page of records to be shown (starting in 0)",
              "required": false,
              "type": "integer",
              "format": "int32",
              "minimum": 0,
              "default": 0
            }
          ],
          "responses": {
              "200": { 
                "description": "OK",
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/PackagesGetMetadataReturn"
                  }
                }
              },
              "400": {"description": "Bad Request"},
              "404": {"description": "Not found"}
          }
        },
        "options": {
          "tags": ["packages"],
          "summary": "Options packages",
          "operationId": "packageOptions",
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "parameters": [],
          "responses": {
            "200": { "description": "OK"}          
          }
        }
      },
      "/packages/on-change": {
        "post": {
            "summary": "Uploads a package",
            "consumes": ["application/json"],
            "produces": ["application/json"],
            "parameters": [
              {
                "in": "body",
                "name": "onChangeEvent",
                "description": "Pet object that needs to be added to the store",
                "required": true,
                "schema": { "$ref": "#/definitions/OnPackageChangeEvent"}
              }
             ],
            "operationId": "postOnChangeEvent",
            "tags": ["packages"],
            "responses": {
                "200": { 
                  "description": "OK, the package upload request has been accepted", 
                  "schema": {} 
                },
                "400": { "description": "Bad Request", "schema": {} }
            }
        }
      },
      "/packages/{package_uuid}": {
        "get": {
          "tags": ["packages"],
          "summary": "Query a specific package meta-data",
          "parameters": [
            {
              "name": "package_uuid",
              "in": "path",
              "required": true,
              "description": "UUID of the package which file is required",
              "type": "string",
              "format": "uuid"
            }
          ],
          "operationId": "queryPackage",
          "responses": {
              "200": { "description": "OK, the package query request has been accepted"},
              "400": { "description": "Bad Request" }
          }
        },
        "delete": {
          "tags": ["packages"],
          "summary": "Delete a specific package (meta-data and files)",
          "parameters": [
            {
              "name": "package_uuid",
              "in": "path",
              "description": "UUID of the package to be deleted",
              "required": true,
              "type": "string",
              "format": "uuid"
            }
          ],
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "responses": {
            "204": { "description": "No Content"},
            "400": { "description": "Bad request"},
            "404": { "description": "Not found"}
          }
        }
      },
      "/packages/{package_uuid}/package-file": {
        "get": {
          "tags": ["packages"],
          "summary": "Fetch a specific package file",
          "parameters": [
            {
              "name": "package_uuid",
              "in": "path",
              "required": true,
              "description": "UUID of the package which file is required",
              "type": "string",
              "format": "uuid"
            }
          ],
          "consumes": ["*/*"],
          "produces": ["application/zip"],
          "responses": {
            "200": { "description": "OK", "schema":{ "type":"string", "format":"binary" } },
            "400": { "description": "Bad request"},
            "404": { "description": "Not found"}
          }
        }
      },
      "/packages/{package_uuid}/files/{file_uuid}": {
        "get": {
          "tags": ["packages"],
          "summary": "Fetch a specific file from within the package",
          "parameters": [
            {
              "name": "package_uuid",
              "in": "path",
              "required": true,
              "description": "UUID of the package which file is required",
              "type": "string",
              "format": "uuid"
            },
            {
              "name": "file_uuid",
              "in": "path",
              "required": true,
              "description": "UUID of the file that is required",
              "type": "string",
              "format": "uuid"
            }
          ],
          "consumes": ["*/*"],
          "produces": ["application/octet-stream"],
          "responses": {
            "200": { "description": "OK", "schema":{ "type":"string", "format":"binary"}},
            "400": { "description": "Bad request"},
            "404": { "description": "Not found"}
          }
        }
      },
      "/packages/status/{process_uuid}": {
        "get": {
          "tags": ["packages"],
          "summary": "Returns the status of a given package on-boarding process",
          "operationId": "returnPackageOnboardingStatus",
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "parameters": [
            {
              "name": "process_uuid",
              "in": "path",
              "required": true,
              "description": "The process UUID returned when the package was initially uploaded",
              "type": "string",
              "format": "uuid"
            }
          ],
          "responses": {
            "200": { "description": "OK"},
            "400": { "description": "Bad request"},
            "404": { "description": "Not found"}
          }
        }
      },
      "/pings": {
         "get": {
            "tags": [
               "pings"
            ],
            "summary": "Returns time since started",
            "operationId": "returnPong",
            "consumes": [
               "*/*"
            ],
            "produces": [
               "application/json"
            ],
            "parameters": [],
            "responses": {
               "200": {
                  "description": "OK"
               }
            }
         }
      },
      "/recommendations": {},
      "settings/monitoring": {
          "tags": ["settings"]
      },
      "settings/platforms": {
        "post": {
          "tags": ["settings"],
          "summary": "Register a new Service Platform",
          "description": "Register a new Service Platform",
          "operationId": "onChangeUsingPOST",
          "consumes": [
            "application/json"
          ],
          "produces": [
            "*/*"
          ],
          "parameters": [
            {
              "in": "body",
              "name": "body",
              "description": "body",
              "required": true,
              "schema": {
                "$ref": "null"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "null"
                }
              }
            },
            "404": {
              "description": "Bad Request"
            },
            "500": {
              "description": "SP already registered"
            }
          },
          "deprecated": false
        },
        "get": {
            "tags": ["settings"],
          "summary": "Retrieve all SPs",
          "description": "Retrieve all SPs",
          "operationId": "listAllSPUsingGET",
          "produces": [
            "*/*"
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "400": {
              "description": "Bad Request"
            },
            "500": {
              "description": "Error in the instantiation process, check the SP logs"
            }
          },
          "deprecated": false

        },
        "delete": {
          "tags": ["settings"],
          "summary": "Delete a Service Platform",
          "description": "Delete a Service Platform",
          "operationId": "deleteaSPUsingDELETE",
          "produces": [
            "*/*"
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "400": {
              "description": "Bad Request"
            },
            "500": {
              "description": "Error in the deletion process"
            }
          },
          "deprecated": false
        }            
      },
      "/services": {
        "get": {
          "tags": ["services"],
          "summary": "Query services",
          "operationId": "serviceQuerying",
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "parameters": [
            {
              "name": "page_size",
              "in": "query",
              "description": "The number of records to be included in a page",
              "required": false,
              "type": "integer",
              "format": "int32",
              "minimum": 0
            },
            {
              "name": "page_number",
              "in": "query",
              "description": "The number of the page of records to be shown (starting in 0)",
              "required": false,
              "type": "integer",
              "format": "int32",
              "minimum": 0,
              "default": 0
            }
          ],
          "responses": {
              "200": { 
                "description": "OK",
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/ServicesGetMetadataReturn"
                  }
                }
              },
              "400": {"description": "Bad Request"}
          }
        },
        "options": {
          "tags": ["services"],
          "summary": "Options for services",
          "operationId": "serviceOptions",
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "parameters": [],
          "responses": {
              "200": { "description": "OK"},
              "400": {"description": "Bad Request"}
          }
        }
      },
      "/services/{service_uuid}": {
        "get": {
          "tags": ["services"],
          "summary": "Query a specific service meta-data",
          "parameters": [
            {
              "name": "service_uuid",
              "in": "path",
              "description": "UUID of the service which meta-data is required",
              "required": true,
              "type": "string",
              "format": "uuid"
            }
          ],
          "consumes": ["*/*"],
          "produces": ["application/json"],
          "responses": {
            "200": { 
              "description": "OK",
              "schema":{ "$ref":"#/definitions/ServicesGetMetadataReturn"}
            },
            "400": { "description": "Bad request"},
            "404": { "description": "Not found"}
          }
        }
      },
      "/tests/descriptors": {
          "get": {
              "tags": ["tests"],
                  
                  "summary": "List all available test descriptors",
                  "operationId": "allTestDescriptorsQuerying",
                  "consumes": [
                    "application/json",
                    "application/x-yaml"
                  ],
                  "produces": [
                    "application/json",
                    "application/x-yaml"
                  ],
                  "parameters": [
                    {
                      "name": "page_size",
                      "in": "query",
                      "description": "The number of test descriptor to be included in a page",
                      "required": false,
                      "type": "integer",
                      "format": "int32",
                      "minimum": 0
                    },
                    {
                      "name": "page_number",
                      "in": "query",
                      "description": "The number of the page of test descriptor to be shown (starting in 0)",
                      "required": false,
                      "type": "integer",
                      "format": "int32",
                      "minimum": 0,
                      "default": 0
                    },
                    {
                      "name": "version",
                      "in": "query",
                      "description": "Request of returning the last versions of the test descriptors",
                      "required": false,
                      "type": "string",
                      "enum": [
                        "last",
                        "specific version"
                      ]
                    },
                    {
                      "name": "name",
                      "in": "query",
                      "description": "Query with name field of the test descriptors",
                      "required": false,
                      "type": "string"
                    },
                    {
                      "name": "vendor",
                      "in": "query",
                      "description": "Query with vendor field of the test descriptors",
                      "required": false,
                      "type": "string"
                    },
                    {
                      "name": "XFilter",
                      "in": "query",
                      "description": "Query with a desired field of the test descriptors",
                      "required": false,
                      "type": "string"
                    }
                  ],
                  "responses": {
                    "200": {
                      "description": "OK",
                      "schema": {
                        "type": "object",
                        "properties": {
                          "created_at": {
                            "description": "The creation date of the test descriptor",
                            "type": "string"
                          },
                          "md5": {
                            "description": "The md5 hash of the test descriptor",
                            "type": "string"
                          },
                          "testd": {
                            "description": "The body of the test descriptor",
                            "type": "object"
                          },
                          "signature": {
                            "description": "The signature of the test descriptor",
                            "type": "string"
                          },
                          "status": {
                            "description": "The status of the test descriptor",
                            "type": "string"
                          },
                          "updated_at": {
                            "description": "The date of update of the test descriptor",
                            "type": "string"
                          },
                          "username": {
                            "description": "The username of the creator of the test descriptor",
                            "type": "string"
                          },
                          "uuid": {
                            "description": "The unique universal identifier of the test descriptor",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "415": {"description": "Unsupported Media Type"}
                  }
                }
      },
      "/tests/descriptors/{descriptor_uuid}": {
                "get": {
                  "tags": ["tests"],
                  "summary": "Retrieve a specific test descriptor with the uuid",
                  "operationId": "oneTestDescriptorQuerying",
                  "consumes": [
                    "*/*"
                  ],
                  "produces": [
                    "application/json",
                    "application/x-yaml"
                  ],
                  "parameters": [
                    {
                      "name": "descriptor_uuid",
                      "in": "path",
                      "description": "The universal unique identifier attached from the Catalogues",
                      "required": true,
                      "type": "string",
                      "format": "uuid"
                    }
                  ],
                  "responses": {
                    "200": {
                      "description": "OK",
                      "schema": {
                        "type": "object",
                        "properties": {
                          "created_at": {
                            "description": "The creation date of the test descriptor",
                            "type": "string"
                          },
                          "md5": {
                            "description": "The md5 hash of the test descriptor",
                            "type": "string"
                          },
                          "testd": {
                            "description": "The body of the test descriptor",
                            "type": "object"
                          },
                          "signature": {
                            "description": "The signature of the test descriptor",
                            "type": "string"
                          },
                          "status": {
                            "description": "The status of the test descriptor",
                            "type": "string"
                          },
                          "updated_at": {
                            "description": "The date of update of the test descriptor",
                            "type": "string"
                          },
                          "username": {
                            "description": "The username of the creator of the test descriptor",
                            "type": "string"
                          },
                          "uuid": {
                            "description": "The unique universal identifier of the test descriptor",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "400": {
                      "description": "Bad Request",
                      "schema": {
                        "type": "object",
                        "properties": {
                          "error": {
                            "description": "No TESTD ID specified",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "404": {
                      "description": "Not Found",
                      "schema": {
                        "type": "object",
                        "properties": {
                          "error": {
                            "description": "The TESTD ID {id} does not exist",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "415": {"description": "Unsupported Media Type"}
                  }
                }
      },
      "/tests/plans": {
            "get": {
              "tags": ["tests"],
              "summary": "Find all test plan",
              "description": "Finding all test plans",
              "operationId": "listAllTestPlansUsingGET",
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "serviceName",
                  "in": "query",
                  "description": "serviceName",
                  "required": false,
                  "type": "string"
                },
                {
                  "name": "status",
                  "in": "query",
                  "description": "status",
                  "required": false,
                  "type": "string"
                },
                {
                  "name": "testName",
                  "in": "query",
                  "description": "testName",
                  "required": false,
                  "type": "string"
                },
                {
                  "name": "testUuid",
                  "in": "query",
                  "description": "testUuid",
                  "required": false,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/TestPlan"
                    }
                  }
                }
              },
              "deprecated": false
            },
            "post": {
              "tags": ["tests"],
              "summary": "Create a test plan",
              "description": "Creating a test plan",
              "operationId": "saveUsingPOST",
              "consumes": [
                "application/json"
              ],
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "in": "body",
                  "name": "testPlan",
                  "description": "testPlan",
                  "required": true,
                  "schema": {
                    "$ref": "#/definitions/TestPlan"
                  }
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "$ref": "#/definitions/TestPlan"
                  }
                },
                "400": {
                  "description": "Bad Request"
                }
              },
              "deprecated": false
            }
      },
      "/tests/plans/services": {
            "post": {
              "tags": ["tests"],
              "summary": "Create a test plan by service uuid",
              "operationId": "buildTestPlansByServiceUsingPOST",
              "consumes": [
                "application/json"
              ],
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "confirmRequired",
                  "in": "query",
                  "description": "confirmRequired",
                  "required": false,
                  "type": "boolean"
                },
                {
                  "name": "serviceUuid",
                  "in": "query",
                  "description": "serviceUuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/TestPlan"
                    }
                  }
                },
                "400": {
                  "description": "Bad Request"
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/services/{nsdUuid}/tests": {
            "get": {
              "tags": [
                "tests"
              ],
              "summary": "Find all tests related with a service uuid",
              "operationId": "listTestsByServiceUsingGET",
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "nsdUuid",
                  "in": "path",
                  "description": "nsdUuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/testAndServices": {
            "post": {
              "tags": [
                "tests"
              ],
              "summary": "Create a test plan by test uuid and service uuid",
              "operationId": "buildTestPlansByNsTdPairUsingPOST",
              "consumes": [
                "application/json"
              ],
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "confirmRequired",
                  "in": "query",
                  "description": "confirmRequired",
                  "required": false,
                  "type": "boolean"
                },
                {
                  "name": "serviceUuid",
                  "in": "query",
                  "description": "serviceUuid",
                  "required": true,
                  "type": "string"
                },
                {
                  "name": "testUuid",
                  "in": "query",
                  "description": "testUuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/TestPlan"
                    }
                  }
                },
                "400": {
                  "description": "Bad Request"
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/testing-tags": {
            "post": {
              "tags": [
                "tests"
              ],
              "summary": "Create a test plan by testing tag",
              "operationId": "buildTestPlansByTestingTagUsingPOST",
              "consumes": [
                "application/json"
              ],
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "confirmRequired",
                  "in": "query",
                  "description": "confirmRequired",
                  "required": false,
                  "type": "boolean"
                },
                {
                  "name": "testingTag",
                  "in": "query",
                  "description": "testingTag",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/TestPlan"
                    }
                  }
                },
                "400": {
                  "description": "Bad Request"
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/testing-tags/{tag}/services": {
            "get": {
              "tags": [
                "tests"
              ],
              "summary": "Find all services related with a tag",
              "operationId": "listServicesByTagUsingGET",
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "tag",
                  "in": "path",
                  "description": "tag",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/testing-tags/{tag}/tests": {
            "get": {
              "tags": [
                "tests"
              ],
              "summary": "Find all tests related with a testing_tag",
              "operationId": "listTestsByTagUsingGET",
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "tag",
                  "in": "path",
                  "description": "tag",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/tests": {
            "post": {
              "tags": [
                "tests"
              ],
              "summary": "Create a test plan by test uuid",
              "operationId": "buildTestPlansByTestUsingPOST",
              "consumes": [
                "application/json"
              ],
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "confirmRequired",
                  "in": "query",
                  "description": "confirmRequired",
                  "required": false,
                  "type": "boolean"
                },
                {
                  "name": "testUuid",
                  "in": "query",
                  "description": "testUuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/TestPlan"
                    }
                  }
                },
                "400": {
                  "description": "Bad Request"
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/tests/{testdUuid}/services": {
            "get": {
              "tags": [
                "tests"
              ],
              "summary": "Find all services related with a test",
              "operationId": "listServicesByTestUsingGET",
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "testdUuid",
                  "in": "path",
                  "description": "testdUuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              },
              "deprecated": false
            }
          },
          "/tests/plans/{uuid}": {
            "get": {
              "tags": [
                "tests"
              ],
              "summary": "Find a test plan",
              "description": "Finding test plan by uuid",
              "operationId": "findTestPlanUsingGET",
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "uuid",
                  "in": "path",
                  "description": "uuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "$ref": "#/definitions/TestPlan"
                  }
                }
              },
              "deprecated": false
            },
            "put": {
              "tags": [
                "tests"
              ],
              "summary": "Update a test plan status",
              "description": "Updating a test plan status by uuid",
              "operationId": "updateUsingPUT",
              "consumes": [
                "application/json"
              ],
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "status",
                  "in": "query",
                  "description": "status",
                  "required": true,
                  "type": "string"
                },
                {
                  "name": "uuid",
                  "in": "path",
                  "description": "uuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK",
                  "schema": {
                    "$ref": "#/definitions/TestPlan"
                  }
                },
                "400": {
                  "description": "Bad Request"
                }
              },
              "deprecated": false
            },
            "delete": {
              "tags": [
                "tests"
              ],
              "summary": "Cancel a test plan",
              "description": "canceling test plan by uuid",
              "operationId": "deleteTestPlanUsingDELETE",
              "produces": [
                "*/*"
              ],
              "parameters": [
                {
                  "name": "uuid",
                  "in": "path",
                  "description": "uuid",
                  "required": true,
                  "type": "string"
                }
              ],
              "responses": {
                "200": {
                  "description": "OK"
                }
              },
              "deprecated": false
            }
          },
      "/tests/plans/{plan_uuid}": {
          "tags": ["tests"]
      },
      "/tests/results": {
          "get": {
              "tags": ["tests"],
              "responses": {
                  "200": {
                      "description": "Success",
                      "headers": {
                          "Content-Type": {
                              "description": "Through this endpoint GET request, the trr returns a JSON formatted paginated list of test-suite-results.",
                              "type": "string",
                              "maximum": 1,
                              "minimum": 1
                          }
                      }
                  },
                  "400": {
                      "description": "ERROR",
                      "headers": {
                          "Content-Type": {
                              "description": "wrong parameters.",
                              "type": "string",
                              "maximum": 1,
                              "minimum": 1
                          }
                      }
                  },
                  "500": {
                      "description": "ERROR",
                      "headers": {
                          "Content-Type": {
                              "description": "Error Establishing a Database Connection.",
                              "type": "string",
                              "maximum": 1,
                              "minimum": 1
                          }
                      }
                  }
              }
          }
      },
      "/tests/results/{result_uuid}": {
          "get": {
              "tags": ["tests"],
              "parameters": [{ "name": "result_uuid", "in": "path", "description": "result uuid", "required": true, "type": "string" }],
              "responses": {
                  "200": {
                      "description": "Success",
                      "headers": {
                          "Content-Type": {
                              "description": "Through this endpoint GET request, the trr returns a JSON formatted paginated list of test-suite-results.",
                              "type": "string",
                              "maximum": 1,
                              "minimum": 1
                          }
                      }
                  },
                  "400": {
                      "description": "ERROR",
                      "headers": {
                          "Content-Type": {
                              "description": "wrong parameters.",
                              "type": "string",
                              "maximum": 1,
                              "minimum": 1
                          }
                      }
                  },
                  "404": {
                      "description": "ERROR",
                      "headers": {
                          "Content-Type": {
                              "description": "No requests were found.",
                              "type": "string",
                              "maximum": 1,
                              "minimum": 1
                          }
                      }
                  },
                  "500": {
                      "description": "ERROR",
                      "headers": {
                          "Content-Type": {
                              "description": "Error Establishing a Database Connection.",
                              "type": "string",
                              "maximum": 1,
                              "minimum": 1
                          }
                      }
                  }
              }
          }
      },
      "/users": {
        "post": {
          "tags": [ "users"],
          "summary": "Register a new user",
          "description": "Register a new user",
          "operationId": "onChangeUsingPOST",
          "consumes": ["application/json"],
          "produces": ["application/json"],
          "parameters": [
            { "name": "username", "in": "query", "description": "username", "required": true, "type": "string" },
            { "name": "name", "in": "query", "description": "name", "required": true, "type": "string" },
            { "name": "password", "in": "query", "description": "password", "required": true, "type": "string" },
            { "name": "email", "in": "query", "description": "email", "required": true, "type": "string" },
            { "name": "role", "in": "query", "description": "role", "required": true, "type": "string" }
          ],
          "responses": {
            "200": { "description": "OK" },
            "400": { "description": "Bad Request" },
            "409": { "description": "Conflict" },            
            "500": { "description": "Error in the registration process"}
          }
        },
        "get": {
          "tags": ["users"],
          "summary": "Retrieve all users",
          "description": "Retrieve all users",
          "operationId": "listAllUsersUsingGET",
          "produces": ["*/*"],
          "responses": {
            "200": {"description": "OK"},
            "400": {"description": "Bad Request"},
            "500": {"description": "Error retieving users"}
          },
          "deprecated": false
        }
      },
      "/users/sessions": {
        "post": {
          "tags": ["users"],
          "summary": "Register a new user",
          "description": "Register a new user",
          "operationId": "registerUsingPOST",
          "consumes": ["application/json"],
          "produces": ["application/json"],
          "parameters": [
            {"name": "username", "in": "query", "description": "username", "required": true, "type": "string" },
            {"name": "password", "in": "query", "description": "name", "required": true, "type": "string" }
          ],
          "responses": {
            "200": { "description": "OK" },
            "400": { "description": "Bad Request" },
            "409": { "description": "Conflict" },            
            "500": { "description": "Error in the registration process" }
          }
        }
      },
      "/users/{user_name}": {
        "patch": {
          "tags": [ "users"],
          "summary": "Update a user",
          "description": "Update a new user",
          "operationId": "updateUsingPATCH",
          "consumes": ["application/json"],
          "produces": ["application/json"],
          "parameters": [
            { "name": "user_name", "in": "path", "description": "username", "required": true, "type": "string" },
            { "name": "name", "in": "query", "description": "name", "required": true, "type": "string" },
            { "name": "password", "in": "query", "description": "password", "required": true, "type": "string" },
            { "name": "email", "in": "query", "description": "email", "required": true, "type": "string" },
            { "name": "role", "in": "query", "description": "role", "required": true, "type": "string" }
          ],
          "responses": {
            "200": { "description": "OK" },
            "400": { "description": "Bad Request" },
            "409": { "description": "Conflict" },            
            "500": { "description": "Error in the registration process" }
          }
        },
        "delete": {
          "tags": [ "users" ],
          "summary": "Delete user",
          "description": "user",
          "operationId": "deleteUserUsingDELETE",
          "produces": [ "*/*" ],
          "parameters": [
            { "name": "user_name", "in": "path", "description": "username", "required": true, "type": "string" }
          ],         
          "responses": {
            "200": { "description": "OK" },
            "400": { "description": "Bad Request" },
            "500": { "description": "Error retieving users" }
          },
          "deprecated": false
        }   
      },
      "/users/endpoints": {
        "get": {
          "tags": ["users"],
          "summary": "Retrieve all endpoints",
          "description": "Retrieve all endpoints",
          "operationId": "listAllEndpointsUsingGET",
          "produces": ["*/*"],
          "responses": {
            "200": {"description": "OK"},
            "400": {"description": "Bad Request"},
            "500": {"description": "Error retieving users"}
          },
          "deprecated": false
        }
      },
      "/users/roles": {
        "get": {
          "tags": ["users"],
          "summary": "Retrieve all users' roles",
          "description": "Retrieve all roles",
          "operationId": "listAllRolsUsingGET",
          "produces": ["application/json"],
          "responses": {
            "200": {"description": "OK"},
            "400": {"description": "Bad Request"},
            "500": {"description": "Error retieving users's roles"}
          },
          "deprecated": false
        }
      }
   },
   "definitions": {
       "FunctionsGetMetadataReturn": {
         "required": [ "function_uuid", "vnfd" ],
         "properties": {
           "function_uuid": { "type": "string", "description": "UUID of the service."},
           "vnfd": { "type": "string", "description": "Service descriptor"}
         },
         "type": "object"
       },
       "OnPackageChangeEvent": {
         "type": "object",
         "required": [ "event_name", "package_id"],
         "properties": {
           "event_name": { "type": "string" },
           "package_id": { "type": "string" },
           "package_location": { "type": "string" },
           "package_metadata": { "type": "string" },
           "package_process_status": { "type": "string" },
           "package_process_uuid": { "type": "string", "description": "UUID of started unpackaging process." }
         },
         "title": "OnPackageChangeEvent"
       },
       "PackagesPostReturn": {
         "required": [ "package_process_uuid" ],
         "properties": {
           "package_process_uuid": {
             "type": "string",
             "description": "UUID of started unpackaging process."
           }
         },
         "type": "object"
       },
       "PackagesGetStatusReturn": {
         "required": [ "package_process_uuid", "status"],
         "properties": {
           "package_process_uuid": {
             "type": "string",
             "description": "UUID of started unpackaging process."
           },
           "status": {
             "type": "string",
             "description": "Status of the unpacking process: waiting|runnig|failed|done"
           },
           "error_msg": {
             "type": "string",
             "description": "More detailed error message."
           }
         },
         "type": "object"
       },
       "PackagesGetMetadataReturn": {
         "required": [ "package_uuid", "pd" ],
         "properties": {
           "package_uuid": {
             "type": "string",
             "description": "UUID of the package."
           },
           "pd": {
             "type": "string",
             "description": "Package descriptor"
           }
         },
         "type": "object"
       },
       "ServicesGetMetadataReturn": {
         "required": [ "service_uuid", "nsd" ],
         "properties": {
           "service_uuid": {"type": "string", "description": "UUID of the service."},
           "nsd": { "type": "string", "description": "Service descriptor"}
         },
         "type": "object"
       },
      "RequestData": {
         "type": "object",
         "properties": {
            "uuid": {
               "type": "string",
               "description": "The UUID of the entity to which the instantiation request is related to (Service or Slice) -- mandatory for request_type CREATE_SERVICE (default) and CREATE_SLICE (nstId)"
            },
            "instance_uuid": {
               "type": "string",
               "description": "The UUID of the instance of the entity to which the request is related to (Service or Slice) -- mandatory for request_type TERMINATE_SERVICE and TERMINATE_SLICE"
            },
            "egresses": {
               "type": "array",
               "description": "List of egress points to be taken into consideration during the instantiation",
               "items": {
                  "type": "string"
               }
            },
            "ingresses": {
               "type": "array",
               "description": "List of ingress points to be taken into consideration during the instantiation",
               "items": {
                  "type": "string"
               }
            },
            "blacklist": {
               "type": "array",
               "description": "List of sites where not to instantiate",
               "items": {
                  "type": "string"
               }
            },
            "callback": {
               "type": "string",
               "description": "The callback to call when the instantiation is ready"
            },
            "name": {
               "type": "string",
               "description": "The callback to call when the instantiation is ready"
            },
            "description": {
               "type": "string",
               "description": "The callback to call when the instantiation is ready"
            },
            "sla_id": {
               "type": "string",
               "description": "The callback to call when the instantiation is ready"
            },
            "policy_id": {
               "type": "string",
               "description": "The callback to call when the instantiation is ready"
            }
         }
      },
      "RequestResponseData": {
         "type": "object",
         "properties": {
            "blacklist": {
               "type": "array",
               "description": "List of sites where not to instantiate",
               "items": {
                  "type": "string"
               }
            },
            "callback": {
               "type": "string",
               "description": "The callback to call when the request status changes"
            },
            "created_at": {
               "type": "string",
               "description": "The time at which the request has been created"
            },
            "customer_name": {
               "type": "string",
               "description": "The name of the Customer making the request"
            },
            "customer_email": {
               "type": "string",
               "description": "The email of the Customer making the request"
            },
            "description": {
               "type": "string",
               "description": "Free (optional) text describing the request"
            },
            "egresses": {
               "type": "array",
               "description": "List of egress points to be taken into consideration during the instantiation",
               "items": {
                  "type": "string"
               }
            },
            "error": {
               "type": "string",
               "description": "Text describing the error ocurred in the request, if thre is any"
            },
            "id": {
               "type": "string",
               "description": "The ID of the request"
            },
            "ingresses": {
               "type": "array",
               "description": "List of ingress points to be taken into consideration during the instantiation",
               "items": {
                  "type": "string"
               }
            },
            "instance_uuid": {
               "type": "string",
               "description": "The UUID of the instance of the entity to which the request is related to (Service or Slice) -- mandatory for TERMINATION"
            },
            "name": {
               "type": "string",
               "description": "The name of the request (optional)"
            },
            "nstId": {
               "type": "string",
               "description": "The UUID of the slice template to which the request is related to -- mandatory for CREATION"
            },
            "request_type": {
               "type": "string",
               "description": "The type of the request. Defaults to CREATE_SERVICE, but can also be TERMINATE_SERVICE, CREATE_SLICE, TERMINATE_SLICE, SCALE_SERVICE or MIGRATE_FUNCTION"
            },
            "service_uuid": {
               "type": "string",
               "description": "The UUID of the service to which the request is related to -- mandatory for CREATION"
            },
            "sla_id": {
               "type": "string",
               "description": "The UUID of the SLA chosen by the customer"
            },
            "policy_id": {
               "type": "string",
               "description": "The UUID of the policy related to the above SLA UUID"
            },
            "status": {
               "type": "string",
               "description": "The status of the request: starts NEW, becomes INSTANTIATING or TERMINATING while the MANO does the work, and finishes either READY (success) or ERROR (fail)"
            },
            "updated_at": {
               "type": "string",
               "description": "The time at which the request has been updated"
            }
         }
      }
   }
}

